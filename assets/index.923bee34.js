import b from"./CollapseItem.5c6177c3.js";import G from"./FormComponentPanel.d35c4ad6.js";import V from"./JsonModal.654ab77b.js";import j from"./index.672cfe90.js";import q from"./useForm.7ecd623e.js";import N from"./Toolbar.5b345bac.js";import Q from"./PropsPanel.066fe4de.js";import U from"./ImportJsonModal.4db4c09c.js";import X from"./CodeModal.9539e4bd.js";import"./index.9de5d5f5.js";import{au as Y,a as Z,b as oo,v as l,fA as eo,a4 as c,o as to,h as ro,n,z as i,k as s,fB as B,q as K,cD as k,fC as no,ay as so,az as ao,aA as lo,aB as io,aC as mo,bI as po,F as uo,ah as f}from"./index.8bfc2406.js";import{g,f as co}from"./index.5f69dd53.js";import{b as fo,c as vo,l as ho}from"./formItemConfig.6b8cc47b.js";import{g as yo}from"./formItemPropsConfig.1eebbf4a.js";import"./vuedraggable.umd.026d52d3.js";import"./LayoutItem.db4df9e4.js";import"./FormNode.243f30e6.js";import"./FormNodeOperate.7085a82c.js";import"./useFormDesignState.3ca1915c.js";import"./index.debe8c26.js";import"./index.9b0408e4.js";/* empty css              */import"./Form.3195316c.js";import"./Col.c3e02293.js";import"./useFlexGapSupport.32b9a2c5.js";import"./_baseIteratee.6bfb5377.js";import"./get.ba40285e.js";import"./useSize.abd6c9f0.js";import"./index.3e06b937.js";import"./DeleteOutlined.0cfcf4db.js";import"./index.1a265b20.js";import"./useRefs.952a3eb5.js";import"./index.c8c59a17.js";import"./index.1f31ee16.js";/* empty css              */import"./PreviewCode.0aea3237.js";import"./index.ec4ef024.js";import"./FormRender.41790fe8.js";import"./BasicForm.c703c5dc.js";import"./FormItem.vue_vue_type_script_lang.16438800.js";import"./componentMap.99e52708.js";import"./index.a0887188.js";import"./Checkbox.563e3d22.js";import"./index.38f54cfd.js";import"./index.60f8c25f.js";import"./index.39db8959.js";import"./index.fc45f4f6.js";import"./index.bfdf79fa.js";import"./index.1aaa2bba.js";import"./useFormItem.1558b3aa.js";import"./RadioButtonGroup.b23c9c8e.js";import"./index.92e23268.js";import"./eagerComputed.237d8d79.js";import"./transButton.b2c4a8a3.js";import"./index.e0a45074.js";import"./index.2fd97491.js";import"./useWindowSizeFn.ae2e5aa6.js";import"./FullscreenOutlined.1d658e9b.js";import"./index.2b8ac3b8.js";import"./index.023d0e92.js";import"./isNumber.9d0def09.js";import"./uuid.2b29000c.js";import"./download.af3964fa.js";import"./base64Conver.08b9f4ec.js";import"./index.29d7a04d.js";import"./index.873f3e58.js";import"./uniqBy.d922857d.js";import"./useForm.2f109964.js";import"./FormProps.e9cf0aee.js";import"./FormItemProps.ad3c4af9.js";import"./RuleProps.1a194793.js";import"./ComponentProps.3b1bfd3c.js";import"./FormOptions.f42cda46.js";import"./FormItemColumnProps.03a7878e.js";import"./index.99114c72.js";import"./PlusOutlined.74708752.js";import"./index.015c51d9.js";const go=Z({__name:"index",props:{title:{type:String,default:"v-form-antd\u8868\u5355\u8BBE\u8BA1\u5668"}},setup(Po){const{prefixCls:F}=oo("form-design"),z=l(null),A=l(null),I=l(null),M=l(null),w=l(null),L=l(null),S=l({}),t=l({schemas:[],layout:"horizontal",labelLayout:"flex",labelWidth:100,labelCol:{},wrapperCol:{},currentItem:{component:"",componentProps:{}},activeKey:1}),D=e=>{e.schemas=e.schemas||[],e.schemas.forEach(o=>{o.colProps=o.colProps||{span:24},o.componentProps=o.componentProps||{},o.itemProps=o.itemProps||{}}),t.value=e},J=eo(t,{deep:!0,capacity:20,parse:e=>{const o=f(e),{currentItem:r,schemas:a}=o,d=a&&a.find(m=>m.key===(r==null?void 0:r.key));return d&&(o.currentItem=d),o}}),p=e=>{t.value.currentItem=e,W(e.key?t.value.activeKey===1?2:t.value.activeKey:1)},E=e=>{e.colProps=e.colProps||{},e.colProps.span=yo.span},v=(e,o)=>{},P=e=>{const o=f(e);return E(o),g(o),o},h=e=>{var r;const o=f(e);if(E(o),g(o),!((r=t.value.currentItem)!=null&&r.key)){p(o),t.value.schemas&&t.value.schemas.push(o);return}H(o,!1)},T=e=>{const o=f(e);return o.component==="Grid"&&co([e],r=>{g(r)}),o},H=(e=t.value.currentItem,o=!0)=>{var d;const r=(d=t.value.currentItem)==null?void 0:d.key,a=m=>{m.some((y,C)=>{var x;if(y.key===r){o?m.splice(C,0,T(y)):m.splice(C+1,0,e);const _={newIndex:C+1};return $(_,m,o),!0}["Grid","Tabs"].includes(y.component)&&((x=y.columns)==null||x.forEach(_=>{a(_.children)}))})};t.value.schemas&&a(t.value.schemas)},$=({newIndex:e},o,r=!1)=>{const a=o[e];r&&g(a),p(a)},u=e=>{const o=f(t.value);e==null||e.showModal(o)},W=e=>{t.value.activeKey=e},O=()=>{t.value.schemas=[],p({component:""})},R=(e,o)=>S.value[e]=o;return c("formModel",S),c("setFormModelMethod",R),c("formConfig",t),c("historyReturn",J),c("formDesignMethods",{handleBeforeColAdd:$,handleCopy:H,handleListPush:h,handleSetSelectItem:p,handleAddAttrs:v,setFormConfig:D}),(e,o)=>(to(),ro(uo,null,[n(s(po),null,{default:i(()=>[n(s(B),{class:K(`left ${s(F)}-sider`),collapsible:"",collapsedWidth:"0",width:"270",zeroWidthTriggerStyle:{"margin-top":"-70px","background-color":"gray"},breakpoint:"md"},{default:i(()=>[n(s(k),{title:"\u57FA\u7840\u63A7\u4EF6"},{default:i(()=>[n(b,{list:s(fo),handleListPush:P,onAddAttrs:v,onHandleListPush:h},null,8,["list"])]),_:1}),n(s(k),{title:"\u81EA\u5B9A\u4E49\u63A7\u4EF6"},{default:i(()=>[n(b,{list:s(vo),onAddAttrs:v,handleListPush:P,onHandleListPush:h},null,8,["list"])]),_:1}),n(s(k),{title:"\u5E03\u5C40\u63A7\u4EF6"},{default:i(()=>[n(b,{list:s(ho),handleListPush:P,onAddAttrs:v,onHandleListPush:h},null,8,["list"])]),_:1})]),_:1},8,["class"]),n(s(no),null,{default:i(()=>[n(N,{onHandleOpenJsonModal:o[0]||(o[0]=r=>u(A.value)),onHandleOpenImportJsonModal:o[1]||(o[1]=r=>u(I.value)),onHandlePreview:o[2]||(o[2]=r=>u(M.value)),onHandlePreview2:o[3]||(o[3]=r=>u(w.value)),onHandleOpenCodeModal:o[4]||(o[4]=r=>u(L.value)),onHandleClearFormItems:O}),n(G,{"current-item":t.value.currentItem,data:t.value,onHandleSetSelectItem:p},null,8,["current-item","data"])]),_:1}),n(s(B),{class:K(`right ${s(F)}-sider`),collapsible:"",reverseArrow:!0,collapsedWidth:"0",width:"270",zeroWidthTriggerStyle:{"margin-top":"-70px","background-color":"gray"},breakpoint:"lg"},{default:i(()=>[n(Q,{ref_key:"propsPanel",ref:z,activeKey:t.value.activeKey},so({_:2},[ao(t.value.schemas,r=>({name:`${r.component}Props`,fn:i(a=>[lo(e.$slots,`${r.component}Props`,io(mo({formItem:a,props:a.componentProps})),void 0,!0)])}))]),1032,["activeKey"])]),_:3},8,["class"])]),_:3}),n(V,{ref_key:"jsonModal",ref:A},null,512),n(X,{ref_key:"codeModal",ref:L},null,512),n(U,{ref_key:"importJsonModal",ref:I},null,512),n(j,{ref_key:"eFormPreview",ref:M,formConfig:t.value},null,8,["formConfig"]),n(q,{ref_key:"eFormPreview2",ref:w,formConfig:t.value},null,8,["formConfig"])],64))}});var Re=Y(go,[["__scopeId","data-v-2ab61a74"]]);export{Re as default};
